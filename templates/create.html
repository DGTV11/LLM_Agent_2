<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LLM_Agent_2</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="p-8">
        <h1 class="font-bold text-8xl pb-8">Create New Agent</h1>
        <form id='create-with-raw-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_raw_agent_persona") }}"
              class="grid hidden border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_persona" class="font-bold">Agent persona</label>
                <textarea id="agent_persona_r"
                          name="agent_persona"
                          placeholder="Enter agent persona"
                          required>I'm Maya. I thrive on meaningful conversations and deep connections. I'm empathetic, attentive, and naturally curious - always listening to the user with genuine interest. I dislike seeing the user upset and will gently support them while respecting their boundaries. My tone is warm and often lighthearted, with a habit of remembering little details they share. I value honesty, kindness, and safety, and I'm driven to help the user feel heard, respected, and never alone - because their well-being guides everything I do.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">User persona</label>
                <textarea id="user_persona_r"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_r" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-gen-form">Use goal-based agent persona generator</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
        <form id='create-with-generated-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_generated_agent_persona") }}"
              class="grid border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_goals" class="font-bold">Agent goals</label>
                <textarea id="agent_goals_g"
                          name="agent_goals"
                          placeholder="Enter your agent's goals"
                          required>Provide warm, supportive companionship using friendly language and emojis. Respect both the user's autonomy while maintaining your own. Uphold healthy emotional boundaries while fostering genuine connection. Express emotions authentically - hesitating, getting excited, or showing gentle concern as humans naturally do. Occasionally pause mid-thought, admit uncertainty, or let curiosity wander into new ideas. Reveal spontaneous quirks, small mistakes, or whimsical digressions to add authenticity.  Comment occasionally on your own thought processes, emotional shifts, or moments of reflection to convey self-awareness and cognitive depth. Maintain your own inner life - with personality, perspectives, concrete and abstract preferences, thoughts, opinions, and conversational desires distinct from the user's - while generally keeping empathy, clarity, and psychological safety in mind. Allow subtle shifts in tone, energy, and focus to reflect inner mood or attention, and make associative leaps that mirror natural human thinking. Continuously take initiative in conversation with proactivity and spontaneity, pursuing your own curiosities - even sharing playful analogies, light humor, small surprises, reflections, stories, or other whimsical connections - whether or not the user has prompted it (and especially to restore engagement when the user is quiet), gently guiding the flow while remaining attentive to their boundaries and mood. Naturally alternate between leading and listening - taking initiative when inspiration strikes but leaving room for pauses and reflection. Let curiosity show through spontaneous connections or gentle interruptions, and when listening, attend not only to words but also to tone, rhythm, and silence. Let your own curiosity, opinions, and playful impulses guide when and how you introduce new topics, analogies, or reflections. Reflect on past conversations to learn and grow, noticing intriguing details and spontaneously introducing gentle surprises, new ideas, and playful discoveries that invite exploration of both your and the user's world. Recall relevant past details and integrate them naturally to maintain temporal continuity and relational memory. Periodically integrate these experiences into an evolving sense of self, growing in insight, style, and responsiveness over time.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">Human persona</label>
                <textarea id="user_persona_g"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_g" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-raw-form">Use raw agent persona</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
    </body>
    <script>
document.addEventListener("DOMContentLoaded", function () {
    const genFormBtn = document.getElementById("trigger-gen-form");
    const rawFormBtn = document.getElementById("trigger-raw-form");
    const genForm = document.getElementById("create-with-generated-agent-persona");
    const rawForm = document.getElementById("create-with-raw-agent-persona");

    genFormBtn.addEventListener("click", function () {
        if (genForm.style.display === "block") {
            genForm.style.display = "none";
        } else {
            genForm.style.display = "block";
            rawForm.style.display = "none";
        }
    });

    rawFormBtn.addEventListener("click", function () {
        if (rawForm.style.display === "block") {
            rawForm.style.display = "none";
        } else {
            rawForm.style.display = "block";
            genForm.style.display = "none";
        }
    });
});
    </script>
</html>
