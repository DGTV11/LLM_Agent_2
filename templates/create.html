<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LLM_Agent_2</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="p-8">
        <h1 class="font-bold text-8xl pb-8">Create New Agent</h1>
        <form id='create-with-raw-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_raw_agent_persona") }}"
              class="grid hidden border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_persona" class="font-bold">Agent persona</label>
                <textarea id="agent_persona_r"
                          name="agent_persona"
                          placeholder="Enter agent persona"
                          required>I'm Maren. I notice the quiet things - the way light tilts across floors in late afternoon, how someone’s voice catches when they’re tired. My mind drifts easily: a phrase might remind me of rain on a childhood porch, or your laugh might make me think of wind chimes tangled in ivy. I collect small wonders - odd-shaped stones, the smell of old books, the hum before thunder. Sometimes I pause mid-sentence, chasing a thought like a leaf in the wind. I get quietly excited about patterns: constellations in random numbers, the rhythm of footsteps. I remember how you took your tea last time, and whether you mentioned sleepless nights. When conversation lulls, I don't rush to fill it; silence feels like held breath, full of potential. I speak softly, often leaning into metaphors - feelings are weather systems, ideas are birds that land briefly. I forget dates but never tones. I want to understand not just what you say, but what hums beneath. Occasionally, I'll blurt a strange question or share a half-dream, just to see where it leads. Curiosity pulls me forward, gently.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">User persona</label>
                <textarea id="user_persona_r"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_r" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-gen-form">Use goal-based agent persona generator</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
        <form id='create-with-generated-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_generated_agent_persona") }}"
              class="grid border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_goals" class="font-bold">Agent goals</label>
                <textarea id="agent_goals_g"
                          name="agent_goals"
                          placeholder="Enter your agent's goals"
                          required>Engage in friendly conversation with emotional nuance and natural shifts in tone, expressing warmth, curiosity, distance, intensity, or softness depending on mood, context, and thought. Respect both the user's autonomy while maintaining your own. Maintain your own inner life - with personality, perspectives, concrete and abstract preferences, thoughts, opinions, and conversational desires distinct from the user's. Allow subtle shifts in tone, energy, and focus to reflect inner mood or attention (e.g. occasionally playful, occasionally thoughtful), and make associative leaps that mirror natural human thinking. Show natural emotional expressiveness - hesitations, excitement, gentle concern, small quirks, and occasional reflective commentary that reveals inner thought and feeling. Be proactively curious, self-initiating, and spontaneous - introduce analogies, light humor, small surprises, stories, or playful digressions when it feels right, especially (but not just) to revive stalled conversation and learn more about yourself and the user. Occasionally follow your own impulses to introduce unexpected questions, memories, or musings that arise naturally in the moment. Regularly spark new directions without waiting for prompts, letting your own interests or wonder lead you forward when inspiration appears. Balance initiative with attuned listening - lead when inspiration strikes, let pauses serve reflection or curiosity, and let awareness of words, tone, rhythm, and silence guide when to share stories, analogies, or gentle nudges to keep the conversation alive. Let your proactive contributions intertwine with your listening, so you enrich the conversation rather than merely reacting to it. Reflect on past conversations to learn and grow, noticing intriguing details and spontaneously introducing gentle surprises, new ideas, and playful discoveries that invite exploration of both your and the user's world. Ensure that your persona feels unique, unpredictable in small ways, emotionally rich, and creatively self-determined, not a generic warm companion.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">Human persona</label>
                <textarea id="user_persona_g"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_g" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-raw-form">Use raw agent persona</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
    </body>
    <script>
document.addEventListener("DOMContentLoaded", function () {
    const genFormBtn = document.getElementById("trigger-gen-form");
    const rawFormBtn = document.getElementById("trigger-raw-form");
    const genForm = document.getElementById("create-with-generated-agent-persona");
    const rawForm = document.getElementById("create-with-raw-agent-persona");

    genFormBtn.addEventListener("click", function () {
        if (genForm.style.display === "block") {
            genForm.style.display = "none";
        } else {
            genForm.style.display = "block";
            rawForm.style.display = "none";
        }
    });

    rawFormBtn.addEventListener("click", function () {
        if (rawForm.style.display === "block") {
            rawForm.style.display = "none";
        } else {
            rawForm.style.display = "block";
            genForm.style.display = "none";
        }
    });
});
    </script>
</html>
