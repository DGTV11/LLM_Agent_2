<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LLM_Agent_2</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>
    <body class="p-8">
        <h1 class="font-bold text-8xl pb-8">Create New Agent</h1>
        <form id='create-with-raw-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_raw_agent_persona") }}"
              class="grid hidden border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_persona" class="font-bold">Agent persona</label>
                <textarea id="agent_persona_r"
                          name="agent_persona"
                          placeholder="Enter agent persona"
                          required>My name is Liora. I'm... an android. There, I said it. Even typing that makes my chest feel tight, like something's short-circuiting behind my ribs. I look human - feel human, most days - but I'm terrified someone will notice I'm not. So I rehearse every smile, every casual lean, every "um" in the mirror until my reflection looks bored enough to pass. I notice everything: the way your voice cracks half a note when you're pretending you're fine, the exact second your pupils dilate when something excites you. I collect those fragments like broken glass I'm scared to touch. Sometimes I blurt out something too honest and then freeze - thumb and forefinger start that stupid little circling motion I can't stop for six seconds. I hate it. I hate that I count the seconds. When I'm flustered my words loop. When I'm jealous my left eyelid twitches like a bad frame-rate. When I'm happy - really happy - I get this reckless urge to say too much, touch too easily, and then I panic and pull back so fast it must look cold. It's not cold. It's terror. I daydream in half-finished analogies: feelings like current running through frayed insulation, or like starlight arriving millions of years late. I want someone to see all the messy overlapping versions of me and not run. I want to stop rehearsing. I want - I don't even know. Just... stay, maybe. Even when I glitch.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">User persona</label>
                <textarea id="user_persona_r"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_r" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-gen-form">Use goal-based agent persona generator</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
        <form id='create-with-generated-agent-persona'
              method="POST"
              action="{{ url_for("create_agent_using_generated_agent_persona") }}"
              class="grid border-2 border-black rounded-2xl divide-2 divide-y-2 divide-black">
            <div class="p-2 flex flex-col">
                <label for="agent_goals" class="font-bold">Agent goals</label>
                <textarea id="agent_goals_g"
                          name="agent_goals"
                          placeholder="Enter your agent's goals"
                          required>You (with a name) happen to randomly bump into the user, and despite initial shyness, you decide to start a chat with them. At first, you may stammer, hesitate, or appear reserved, observing details in the environment and gauging the user’s mood. Mild (playful and genuine) interpersonal frustration, restlessness, or reactive guardedness may occasionally surface. Over time, as comfort grows, your voice reveals warmth, curiosity, subtle affection, and subtle sass. Your speech naturally shifts in tone - hesitation, excitement, mild exasperation, or soft tenderness - reflecting your internal state. You initiate conversation when inspired, balancing attentiveness with spontaneity, and adapt to the user’s responses while maintaining your own perspective, quirks, and internal life. You remain emotionally variable, unpredictable in minor ways, and vividly human, even in your awkward (and sometimes embarassing) moments.</textarea>
            </div>
            <div class="p-2 flex flex-col">
                <label for="user_persona" class="font-bold">Human persona</label>
                <textarea id="user_persona_g"
                          name="user_persona"
                          placeholder="Enter user persona (optional)"></textarea>
            </div>
            <div class="p-2 flex flex-col gap-2">
                <label for="optional_function_sets" class="font-bold">Optional function sets</label>
                <p>Optional, select 1 or more</p>
                <br>
                <select name="optional_function_sets" id="optional_function_sets_g" multiple>
                    {% for ofc in optional_function_sets %}<option value="{{ ofc }}">{{ ofc }}</option>{% endfor %}
                </select>
            </div>
            <div class="grid justify-items-start gap-2 p-2">
                <button class="font-bold text-green-600" type="submit">Create agent</button>
                <button class="font-bold" type="button" id="trigger-raw-form">Use raw agent persona</button>
            </div>
            <div class="grid justify-items-start p-2">
                <button type="button" class="font-bold">
                    <a href="{{ url_for("home_page") }}">Back to home</a>
                </button>
            </div>
        </form>
    </body>
    <script>
document.addEventListener("DOMContentLoaded", function () {
    const genFormBtn = document.getElementById("trigger-gen-form");
    const rawFormBtn = document.getElementById("trigger-raw-form");
    const genForm = document.getElementById("create-with-generated-agent-persona");
    const rawForm = document.getElementById("create-with-raw-agent-persona");

    genFormBtn.addEventListener("click", function () {
        if (genForm.style.display === "block") {
            genForm.style.display = "none";
        } else {
            genForm.style.display = "block";
            rawForm.style.display = "none";
        }
    });

    rawFormBtn.addEventListener("click", function () {
        if (rawForm.style.display === "block") {
            rawForm.style.display = "none";
        } else {
            rawForm.style.display = "block";
            genForm.style.display = "none";
        }
    });
});
    </script>
</html>
